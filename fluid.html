<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0, user-scalable=yes">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="./favicon.png" sizes="64*64" />
    <!-- IE -->
    <link rel="SHORTCUT ICON" href="./favicon.png" />
    <!-- mozilla -->
    <link rel="icon" href="favicon.png" type="image/ico" /> 

    <title>CS770 Project Task</title>

    <!-- Bootstrap core CSS -->
    <!-- <link href="./dist/css/bootstrap.min.css" rel="stylesheet" media="screen"/> -->
    <link href="./bootstrap.min.css" rel="stylesheet" /> 
    <!-- Bootstrap theme -->
    <!-- <link href="./dist/css/bootstrap-theme.min.css" rel="stylesheet"/> -->
    <link href="./bootstrap-theme.min.css" rel="stylesheet" /> 
    <!-- extras CSS -->
    <link href="./docs.css" rel="stylesheet" />
    <link href="./pygments-manni.css" rel="stylesheet" />


    <!-- Custom styles for this page -->
    <link href="theme.css" rel="stylesheet">
    <link href="carousel.css" rel="stylesheet">

    <!-- For different devices auto scale the image -->
    <style>
      .img-maxwidth {
        width: 100%;
        height: auto;
        vertical-align: middle;
      }
    </style>

  </head>

  <body>
    <form id='myForm' align='center' action="mailto:zarcen@gmail.com" method="post" enctype="text/plain" >
      Name: <input style='display:' type="text" name="Name" value=''>
      <input style='display:none' type="text" name="Time Consuming" id="timeConsuming">
      <input style='display:none' type="text" name="Touch Times" id="touchtimes">
      <input style='display:none' type='text' name='Offset' id='offsetLogs'>
      <input class='btn btn-primary' type="button" value="Start" onClick="taskStart()">

      <div class="container" align='center'>
        <div id='start-alert' class="alert alert-info" role="alert" style='display:none;font-size:10px'>Your task starts NOW.<br>Please start to read the article.</div>
        <p class="context" id="article" style="font-size:14px" align="justify">  
         I am certain that my fellow Americans expect that on my induction into the Presidency I will address them with a candor and a decision which the present situation of our Nation impels. This is   preeminently the time to speak the truth, the whole truth, frankly and boldly. Nor need we shrink   from honestly facing conditions in our country today. This great Nation will endure as it has endured,   will revive and will prosper. So, first of all, let me assert my firm belief that the only thing we have   to fear is fear itself?nameless, unreasoning, unjustified terror which paralyzes needed efforts to   convert retreat into advance. In every dark hour of our national life a leadership of frankness and   vigor has met with that understanding and support of the people themselves which is essential to   victory. I am convinced that you will again give that support to leadership in these critical days.  In such a spirit on my part and on yours we face our common difficulties. They concern,   thank God, only material things. Values have shrunken to fantastic levels; taxes have risen; our   ability to pay has fallen; government of all kinds is faced by serious curtailment of income; the   means of exchange are frozen in the currents of trade; the withered leaves of industrial enterprise lie   on every side; farmers find no markets for their produce; the savings of many years in thousands of   families are gone.  More important, a host of unemployed citizens face the grim problem of existence, and an   equally great number toil with little return. Only a foolish optimist can deny the dark realities of the   moment.  Yet our distress comes from no failure of substance. We are stricken by no plague of locusts.   Compared with the perils which our forefathers conquered because they believed and were not afraid,   we have still much to be thankful for. Nature still offers her bounty and human efforts have   multiplied it. Plenty is at our doorstep, but a generous use of it languishes in the very sight of the   supply. Primarily this is because rulers of the exchange of mankind's goods have failed through their   own stubbornness and their own incompetence, have admitted their failure, and have abdicated.   Practices of the unscrupulous money changers stand indicted in the court of public opinion, rejected   by the hearts and minds of men. True they have tried, but their efforts have been cast in the pattern of an outworn tradition.   Faced by failure of credit they have proposed only the lending of more money. Stripped of the lure of   profit by which to induce our people to follow their false leadership, they have resorted to   exhortations, pleading tearfully for restored confidence. 


        </p>
      </div> <!-- /container -->
      <input class='btn btn-primary btn-lg' type="button" onclick='submitResult();' value="End">
    </form>

    <!-- Site footer -->
    <div class="container footer">
    </div> <!-- /container -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="./dist/js/bootstrap.min.js"></script>
    <script src="./docs-assets/js/holder.js"></script>
    <script src="./docs-assets/js/application.js"></script>
    <script src="http://platform.twitter.com/widgets.js"></script>        
    <script>
      var touchtimes = 0;
      var yOffsetOnTouchStart;
      var yOffsetOnTouchEnd;
      var offset_arr = [];

      
      function myTouchStartHandler() {
        yOffsetOnTouchStart = window.pageYOffset;
        touchtimes+=1;
        //$('#offsetLogs').val('hi');
      }

      function myTouchEndHandler() {
        yOffsetOnTouchEnd = window.pageYOffset;
        offset_arr.push(yOffsetOnTouchEnd - yOffsetOnTouchStart);
      }


      var c=0;
      var t;

      function taskStart() {
        document.getElementById('timeConsuming').value=c;
        c=c+1;
        t=setTimeout("timedCount()",1000);
        touchtimes = 0;
        document.ontouchstart = myTouchStartHandler;
        document.ontouchend = myTouchEndHandler;
        $('#start-alert')[0].style.display = 'block';
        window.scrollTo(0, 1);

      }

      function timedCount() {
        document.getElementById('timeConsuming').value=c;
        c=c+1;
        t=setTimeout("timedCount()",1000);
      }

      function submitResult() {
        document.getElementById('touchtimes').value=touchtimes;
        clearTimeout(t);
        $('input:text[name=Offset]').val(offset_arr.toString());
        $('#myForm')[0].action += '?subject=HCI_Project';
        $("#myForm").submit();
      }
      //alert(window.screen.width);
      //The following part is for mobile-device screen visibility config
      function refreshContactWhenFlip() {
        w=document.body.clientWidth;
        //alert(w);
        //alert($('#article')[0].style.fontSize);
        if(w > 600){ // horizontal orientation
          $('#article')[0].style.fontSize = '14px';
        }
        else if (w < 400) { // vertical orientation
          $('#article')[0].style.fontSize = '14px';
          //$('#article').show();
        }
      }
      // execute once when load page
      refreshContactWhenFlip();

      // jQuery resize event
      $(window).resize(function() {
        refreshContactWhenFlip();
      });

      window.scrollTo(0, 1);
    </script>
  </body>
</html>
